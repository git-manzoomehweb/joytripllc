<basis core="dbsource" source="trust_login8" mid="24" name="db" lid="1" rkey="[##cms.cookie.rkey##]">
    <member name="loaduserid" type="scalar" request="userid" preview="" />
</basis>
<basis core="dbsource" source="trust_login" mid="24" name="db" lid="1" ownerid="[##cms.cms.ownerid##]" >
    <member name="getdmnidCom" type="scalar" request="getdmnid" preview=""/>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '1'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="flight" query='{
"name": "db", "mid": "20",
"schemabase":"[##cms.query.schemabase|(true)##]",
"schema":{
 "commission": {"action": "find","map": "commissioncost"},
 "totalcom": {"action": "find","map": "totalcom"},
 "firstpay": {"action": "find","map": "firstpay"},
 "Credit_payment": {"action": "find","map": "Credit_payment"}
},
"member":[ { "type":"list",
"name": "q",
"request": "showdetail",
"schemaid" : "291",
"id":"[##cms.form.idnows##]",
"id-ws":[##cms.form.idws|("")##],
"childs" : "[##cms.form.childcount##]",
"infants" : "[##cms.form.infants##]",
"adults" :"[##cms.form.adultcount##]",
"classname" :"[##cms.form.classname##]",
"userid":"[##db.loaduserid.userid##]",
"supplier":"[##cms.form.supplier##]",
"share":"[##cms.form.share##]",
"trackingNo":"[##cms.cookie.trackingid##]",
"unit":"10"
}] } ' />
    </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
            <face filter="field = 'commission'">
                <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'totalcom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
            </face>
            <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '2'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="flight" query='{
"name": "db", "mid": "20",
"schemabase":"[##cms.query.schemabase|(true)##]",
"schema":{
 "commission": {"action": "find","map": "commissioncost"},
 "totalcom": {"action": "find","map": "totalcom"},
 "firstpay": {"action": "find","map": "firstpay"},
 "Credit_payment": {"action": "find","map": "Credit_payment"},
"unit": {"action": "find","map": "unit"},
},
"member":[ { "type":"list",
"name": "q",
"request": "showdetail",
"schemaid" : "290",
"id":"[##cms.form.idnows##]",
"id-ws":[##cms.form.idws|("")##],
"childs" : "[##cms.form.childcount##]",
"infants" : "[##cms.form.infants##]",
"adults" :"[##cms.form.adultcount##]",
"userid":"[##db.loaduserid.userid##]",
"supplier":"[##cms.form.supplier##]",
"share":"[##cms.form.share##]",
"trackingNo":"[##cms.cookie.trackingid##]",
"unit":"10"
}] } ' />
    </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
            <face filter="field = 'commission'">
                <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'totalcom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
            </face>
            <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '3'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="hotel" query='{
"name": "db", "mid": "20",
"schemabase":"[##cms.query.schemabase|(true)##]",
"schema":{
 "commission": {"action": "find","map": "costcommission"},
 "totalcom": {"action": "find","map": "totalcom"},
 "firstpay": {"action": "find","map": "firstpay"},
 "Credit_payment": {"action": "find","map": "Credit_payment"},
 "unit": {"action": "find","map": "unit"}
},
"member":[ { "type":"view",
"name": "q",
"request": "showdetail",
"schemaid" : "251",
"lid":"1",
"provider_basis":"[##cms.form.provider##]",
"provider_ws":[##cms.form.mainprovider|("")##],
"id":"[##cms.form.productid##]",
"nights":"[##cms.form.nightLink##]",
"rooms":[##cms.form.rooms##],
"optionId":"[##cms.form.optionId##]",
"trackingNo":"[##cms.cookie.trackingid##]",
"supplier":"[##cms.form.supplier##]",
"userid":"[##db.loaduserid.userid##]",
"dmnid":"[##db.getdmnidCom.dmnid##]",
"unit":"10"
}] } ' />
    </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
            <face filter="field = 'commission'">
                <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'totalcom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
            </face>
            <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '4'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="tour_final" query='{
"name": "db", "mid": "20",
"schemabase":"[##cms.query.schemabase|(true)##]",
"schema":{
"commission": {"action": "find","map": "costcommission"},
"totalcom": {"action": "find","map": "totalwithcommission"},
"firstpay": {"action": "find","map": "firstpay"},
"Credit_payment": {"action": "find","map": "Credit_payment"}
},
"member":[ { "type":"list",
"name": "q",
"request":"showdetailfinal",
"schemaid": "249",
"hotelgroupid":"[##cms.form.hotelgroupid##]",
"id":"[##cms.form.id##]",
"rooms":[##cms.form.rooms##],
"supplier":"[##cms.form.supplier##]",
"trackingNo":"[##cms.cookie.trackingid##]",
"insuranceinfo":[##cms.form.insuranceinfo|("0")##],
"userid":"[##db.loaduserid.userid##]",
"unit" : "10"
}] } ' />
    </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
            <face filter="field = 'commission'">
                <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'totalcom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" value='@value' class="totalfirstpay" />
            </face>
             <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '6'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="flighthotel" query='{
                        "name": "db",
                        "mid": "20",
                        "schemabase":"true",
                        "schema":{
                        "Commissioncost": {"action": "find","map": "commissioncost"},
                        "Totalcom": {"action": "find","map": "totalCom"},
                        "firstpay": {"action": "find","map": "firstpay"},
                        "Credit_payment": {"action": "find","map": "flight_showdetail.Credit_payment"}
                        },                    
                "member": [{
                                "type": "list",
                                "name": "q",
                                "request": "showdetail",
                                "userid": "[##db.loaduserid.userid##]",
                                "hotel": {
                                    "schemaid": "251",
                                    "hotel_supplier": "[##cms.form.hsupplier##]",
                                    "id": "[##cms.form.productid##]",
                                    "provider_basis": "[##cms.form.provider##]",
                                    "provider_ws": [##cms.form.mainprovider|("")##],
                                    
                                    "optionId": "[##cms.form.optionId##]"
                                },
                                "flight": {
                                    "schemaid": "290",
                                    "flight_supplier": "[##cms.form.fsupplier##]",
                                    "id": "[##cms.form.idnows##]",
                                    "id-ws": [##cms.form.idws|("")##]
                                    
                                },
                                "nights": "[##cms.form.nights##]",
                                "rooms": [##cms.form.rooms##],
                                "trackingNo": "[##cms.cookie.trackingid##]",
                                "unit": "10",
                                "dmnid": [##db.getdmnidCom.dmnid##]
                            }
                        ]
                    }' preview="" />
    </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
         <face filter="field = 'Commissioncost'">
               <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'Totalcom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
            </face>
            <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '5'">
        <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
                <member name="ShowDetail" method="insurance" query='{
                    "name" : "db",
                    "mid" : "20",
                    "member" : [{
                            "type" : "list",
                            "name" : "q",
                            "request" : "showdetail",
                            "provider":[##cms.form.insmainprovider##],
                            "total" : "[##cms.form.Maintotal##]",
                            "commission": [##cms.form.commissionn##],
                            "userid": "[##db.loaduserid.userid##]",
                            "passenger_count":"[##cms.form.passengercount##]",
                             "countryid":"[##cms.form.countryid##]",
                             "zone" : [##cms.form.zone##],
                             "trackingNo":"[##cms.cookie.trackingid##]",
                            "lid":"1"
                        }]}' preview="" />
            </basis>
        <basis core="group" name="G2">
            <basis core="inlinesource" name="db">
                <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
            </basis>
            <basis core="print" datamembername="db.reserve">
                    <face filter="field = 'commissioncost'">
                            <input type="hidden" name="commission" value='@value' class="commission" />
                    </face>
                    <face filter="field = 'totalcom'">
                            <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
                    </face>
                    <face filter="field = 'firstpay'">
                        <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
                    </face>
                    <face filter="field = 'Credit_payment'">
                        <input type="hidden"  value='@value' class="Credit_payment_new" />
                    </face>
            </basis>
        </basis>
    </basis>
<basis core="group" if="'[##cms.form.type##]' = '8'">
            <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
                <member name="ShowDetail" method="train" query='{
                                "name": "db",
                                "mid": "20",
                                "schemabase":"true",
                                "schema":{
                                 "commissioncost": {"action": "find","map": "commissioncost"},
                                 "totalcom": {"action": "find","map": "totalcom"},
                                 "firstpay": {"action": "find","map": "firstpay"},
                                 
                                },                    
                        "member": [{
                            "type": "list",
                            "name": "q",
                            "request": "showdetail",
                            "dmnid": "[##db.getdmnidCom.dmnid##]",
                            "schemaid": "401",
                            "id":"[##cms.form.idnows##]",
                            "id-ws":[##cms.form.idws|("")##],
                            "childs" : "[##cms.form.childcount##]",
                            "infants" : "[##cms.form.infants##]",
                            "adults" :"[##cms.form.adultcount##]",
                            "classname" :"[##cms.form.classname##]",
                            "userid": "[##db.loaduserid.userid##]",
                            "supplier":"[##cms.form.supplier##]",
                            "share":"[##cms.form.share##]",
                            "trackingNo":"[##cms.cookie.trackingid##]",
                            "unit": "10"
                                    }
                                ]
                            }' preview="" />
            </basis>
            <basis core="group" name="G2">
                <basis core="inlinesource" name="db">
                    <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
                </basis>
                <basis core="print" datamembername="db.reserve">
                    <face filter="field = 'commissioncost'">
                        <input type="hidden" name="commission" value='@value' class="commission" />
                    </face>
                    <face filter="field = 'totalcom'">
                        <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
                    </face>
                    <face filter="field = 'firstpay'">
                        <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
                    </face>
                </basis>
            </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '9'">
                <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
                    <member name="ShowDetail" method="train" query='{
                                    "name": "db",
                                    "mid": "20",
                                    "schemabase":"true",
                                    "schema":{
                                     "commissioncost": {"action": "find","map": "commissioncost"},
                                     "totalcom": {"action": "find","map": "totalcom"},
                                     "firstpay": {"action": "find","map": "firstpay"},
                                     
                                    },                    
                            "member": [{
                                "type": "list",
                                "name": "q",
                                "request": "showdetail",
                                "dmnid": "[##db.getdmnidCom.dmnid##]",
                                "schemaid": "402",
                                "id":"[##cms.form.idnows##]",
                                "id-ws":[##cms.form.idws|("")##],
                                "childs" : "[##cms.form.childcount##]",
                                "infants" : "[##cms.form.infants##]",
                                "adults" :"[##cms.form.adultcount##]",
                                "classname" :"[##cms.form.classname##]",
                                "userid": "[##db.loaduserid.userid##]",
                                "supplier":"[##cms.form.supplier##]",
                                "share":"[##cms.form.share##]",
                                "trackingNo":"[##cms.cookie.trackingid##]",
                                "unit": "10"
                                        }
                                    ]
                                }' preview="" />
                </basis>
                <basis core="group" name="G2">
                    <basis core="inlinesource" name="db">
                        <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
                    </basis>
                    <basis core="print" datamembername="db.reserve">
                        <face filter="field = 'commissioncost'">
                            <input type="hidden" name="commission" value='@value' class="commission" />
                        </face>
                        <face filter="field = 'totalcom'">
                            <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
                        </face>
                        <face filter="field = 'firstpay'">
                            <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
                        </face>
                    </basis>
                </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '10'">
    <basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="flight" query='{
            "name": "db", "mid": "20",
            "schemabase":"[##cms.query.schemabase|(true)##]",
            "schema":{
             "commission": {"action": "find","map": "commissioncost"},
             "totalcom": {"action": "find","map": "totalcom"},
             "firstpay": {"action": "find","map": "firstpay"},
             "Credit_payment": {"action": "find","map": "Credit_payment"}
            },
            "member":[ { "type":"list",
            "name": "q",
            "request": "showdetail",
            "schemaid" : "292",
            "id":"[##cms.form.idnows##]",
            "id-ws":[##cms.form.idws|("")##],
            "childs" : "[##cms.form.childcount##]",
            "infants" : "[##cms.form.infants##]",
            "adults" :"[##cms.form.adultcount##]",
            "userid":"[##db.loaduserid.userid##]",
            "supplier":"[##cms.form.supplier##]",
            "share":"[##cms.form.share##]",
            "trackingNo":"[##cms.cookie.trackingid##]",
            "unit":"10"
            }] } ' />
                </basis>
                <basis core="group" name="G2">
                    <basis core="inlinesource" name="db">
                        <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
                    </basis>
                    <basis core="print" datamembername="db.reserve">
                        <face filter="field = 'commission'">
                            <input type="hidden" name="commission" value='@value' class="commission" />
                        </face>
                        <face filter="field = 'totalcom'">
                            <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
                        </face>
                        <face filter="field = 'firstpay'">
                            <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
                        </face>
                        <face filter="field = 'Credit_payment'">
                            <input type="hidden"  value='@value' class="Credit_payment_new" />
                        </face>
                    </basis>
                </basis>
</basis>
<basis core="group" if="'[##cms.form.type##]' = '11'">
<basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="cip" query='{
            "name": "db",
            "mid": "20",
            "member": [
                {
                    "type": "list",
                    "name": "q",
                    "request": "showdetail",
                    "schemaid": "500",
                    "id": "[##cms.form.id##]",
                    "childs": "[##cms.form.childs##]",
                    "infants": "[##cms.form.infants##]",
                    "adults": "[##cms.form.adults##]",
                    "dmnid":"[##db.getdmnidCom.dmnid##]",
                    "provider": [##cms.form.provider##],
                    "supplier": "[##cms.form.supplier##]",
                    "share": "[##cms.form.share##]",
                     "flighttype": "[##cms.form.flighttype##]",
                    "traveltype": "[##cms.form.traveltype##]",
                    "userid": "[##db.loaduserid.userid##]",
                    "trackingNo": "[##cms.cookie.trackingid##]",
                    "unit": "10"
                }
            ]
        } ' preview=""/>
    </basis>
            <basis core="group" name="G2">
                <basis core="inlinesource" name="db">
                    <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
                </basis>
                <basis core="print" datamembername="db.reserve">
                    <face filter="field = 'commission'">
                        <input type="hidden"  value='@value' class="commission_percent" />
                    </face>
                    <face filter="field = 'costcommission'">
                        <input type="hidden" name="costcommission" value='@value' class="commission" />
                    </face>
                    <face filter="field = 'totalcom'">
                        <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
                    </face>
                    <face filter="field = 'firstpay'">
                        <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
                    </face>
                    <face filter="field = 'Credit_payment'">
                        <input type="hidden"  value='@value' class="Credit_payment_new" />
                    </face>
                </basis>
            </basis>
</basis>
<!-- add service -->
<basis core="group" name="services" if="'[##cms.form.type##]' = '12'">
    <basis core="external.fly.ws" source="cmsDbService5" procedurename="dbsource" name="db">
        <member name="ShowDetail" method="multiproduct" query='{
            "member": [
            {
                "type": "list",
                "name": "q",
                "request": "showdetail",
                "schemaid": "501",
                "id": [[##cms.form.id##]],
                "childs": "[##cms.form.childcount##]",
                "infants": "[##cms.form.infants##]",
                "adults": "[##cms.form.adultcount##]",
                "userid": "[##db.loaduserid.userid##]",
                "supplier": "[##cms.form.supplier##]",
                "share": "[##cms.form.share##]",
                "trackingNo": "[##cms.cookie.trackingid##]",
                "lid": "[##cms.form.lid##]",
                "unit": "10"
            }
        ]}'/> </basis>
    <basis core="group" name="G2">
        <basis core="inlinesource" name="db">
            <member name="reserve" format="json" preview="">{"root":[##db.ShowDetail.result##]}</member>
        </basis>
        <basis core="print" datamembername="db.reserve">
            <face filter="field = 'commissioncost'">
                <input type="hidden" name="commission" value='@value' class="commission" />
            </face>
            <face filter="field = 'totalCom'">
                <input type="hidden" name="totalcom" value='@value' class="totalwithcom" />
            </face>
            <face filter="field = 'firstpay'">
                <input type="hidden" name="firstpay" value='@value' class="totalfirstpay" />
            </face>
            <face filter="field = 'Credit_payment'">
                <input type="hidden"  value='@value' class="Credit_payment_new" />
            </face>
        </basis>
    </basis>
</basis>
<!-- add service -->